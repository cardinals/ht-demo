!function(t,r,Z){"use strict";function C(){var b=[],M=[];return function(){return 0===arguments.length?M.join("")+A.apply(String,b):(b.length+arguments.length>1024&&(M.push(A.apply(String,b)),b.length=0),Array.prototype.push.apply(b,arguments),void 0)}}function I(A,K,p,k,l){var X,E,V=8*l-k-1,i=(1<<V)-1,m=i>>1,w=-7,C=p?l-1:0,j=p?-1:1,U=A[K+C];for(C+=j,X=U&(1<<-w)-1,U>>=-w,w+=V;w>0;X=256*X+A[K+C],C+=j,w-=8);for(E=X&(1<<-w)-1,X>>=-w,w+=k;w>0;E=256*E+A[K+C],C+=j,w-=8);if(0===X)X=1-m;else{if(X===i)return E?0/0:1/0*(U?-1:1);E+=Math.pow(2,k),X-=m}return(U?-1:1)*E*Math.pow(2,X-k)}var W="ht",h=t[W],B=null,n=Math,P=n.abs,$=n.max,K=Number.MAX_VALUE,V=h.Default,D=V.getInternal(),G=V.clone,z=D.vec3TransformMat4,J=[0,0],b=D.appendArray,p=function(){function n(A,S,E,b){if(A){var f=A[b];if(f){E.ignoreColor||(S.color=f.kd),!E.ignoreTransparent&&f.d>0&&f.d<1&&(S.transparent=!0,S.opacity=f.d);var V;if(!E.ignoreImage&&(V=f.map_kd)){V=V.split(" ");for(var F=-1,L=0;L<V.length;L++)"-o"===V[L]?(S.uvOffset=[parseFloat(V[L+1]),parseFloat(V[L+2])],L+=3,F=L):"-s"===V[L]&&(S.uvScale=[parseFloat(V[L+1]),parseFloat(V[L+2])],L+=3,F=L);S.image=(E.prefix||"")+V.splice(F+1).join(" ")}}}}var E=/v( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,c=/vt( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,o=/vn( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,m=/^[og]\s*(.+)?/,a=function(r,l){return l=parseInt(l),l>=0?r[l-1]:r[l+r.length]},k=function(H,I,u,$,J){if(H.lvs){var i=a(I,$),y=a(I,J),Z=u.matrix,l=H.lvs;Z?(b(l,z(G(i),Z)),b(l,z(G(y),Z))):(b(l,i),b(l,y))}},R=function(U,J,L,d,j,S){if(U.vs){var m=a(J,d),I=a(J,j),f=a(J,S),F=L.matrix,A=U.vs;if(L.flipFace){var E=I;I=f,f=E}F?(b(A,z(G(m),F)),b(A,z(G(I),F)),b(A,z(G(f),F))):(b(A,m),b(A,I),b(A,f))}},L=function(u,p,l,A,f,R){if(u.vs){var I=l.flipY,w=A===Z?J:a(p,A),e=f===Z?J:a(p,f),L=R===Z?J:a(p,R);if(l.flipFace){var T=e;e=L,L=T}u.uv.push(w[0],I?1-w[1]:w[1],e[0],I?1-e[1]:e[1],L[0],I?1-L[1]:L[1])}},p=function(t,v,r,D,P,T){if(t.vs){var n=a(v,D),u=a(v,P),K=a(v,T),e=r.normalMatrix,s=t.ns;if(r.flipFace){var q=u;u=K,K=q}e?(b(s,z(G(n),e)),b(s,z(G(u),e)),b(s,z(G(K),e))):(b(s,n),b(s,u),b(s,K))}},A=function(n,z,H,Q){for(var Z=Q.length-1,I=0;Z>I;++I)k(n,z,H,Q[I],Q[I+1]);k(n,z,H,Q[Z],Q[0])},v=function(U,e,z,C,l,q,G,t){var o=C&&C.length&&t;q[3]===Z?(R(U,e,l,q[0],q[1],q[2]),G?L(U,z,l,G[0],G[1],G[2]):U.uv&&U.uv.length&&L(U,z,l),o&&p(U,C,l,t[0],t[1],t[2])):(R(U,e,l,q[0],q[1],q[3]),R(U,e,l,q[1],q[2],q[3]),G?(L(U,z,l,G[0],G[1],G[3]),L(U,z,l,G[1],G[2],G[3])):U.uv&&U.uv.length&&(L(U,z,l),L(U,z,l)),o&&(p(U,C,l,t[0],t[1],t[3]),p(U,C,l,t[1],t[2],t[3])))},f=function(s,J,T,N){var f,B,t,o,W,Z,M,b,v=K,U=K,u=K,D=-K,y=-K,i=-K;for(f in s)for(Z=s[f].vs,b=Z.length,B=0;b>B;B+=3)t=Z[B+0],o=Z[B+1],W=Z[B+2],v>t&&(v=t),U>o&&(U=o),u>W&&(u=W),t>D&&(D=t),o>y&&(y=o),W>i&&(i=W);var F;if(T){var Q=v+(D-v)/2,k=U+(y-U)/2,I=u+(i-u)/2;for(f in s){for(Z=s[f].vs,b=Z.length,B=0;b>B;B+=3)Z[B+0]-=Q,Z[B+1]-=k,Z[B+2]-=I;if(M=s[f].lvs)for(b=M.length,B=0;b>B;B+=3)M[B+0]-=Q,M[B+1]-=k,M[B+2]-=I}F=[Q,k,I]}var w,c,j;T?(w=D-v,c=y-U,j=i-u):(w=2*$(P(v),P(D)),c=2*$(P(U),P(y)),j=2*$(P(u),P(i))),0===w&&(w=Math.min(c,j)/1e3||.001),0===c&&(c=Math.min(w,j)/1e3||.001),0===j&&(j=Math.min(w,c)/1e3||.001),N.rawS3=[w,c,j];for(f in s){if(Z=s[f].vs,M=s[f].lvs,J){for(b=Z.length,B=0;b>B;B+=3)w&&(Z[B+0]/=w),c&&(Z[B+1]/=c),j&&(Z[B+2]/=j);if(M)for(b=M.length,B=0;b>B;B+=3)w&&(M[B+0]/=w),c&&(M[B+1]/=c),j&&(M[B+2]/=j);var X=s[f].ns;if(X){b=X.length;var g=new h.Math.Vector3;for(B=0;b>B;B+=3)g.set(X[B+0]*w,X[B+1]*c,X[B+2]*j).normalize(),X[B+0]=g.x,X[B+1]=g.y,X[B+2]=g.z}}s[f].rawS3=N.rawS3,F&&(s[f].center=F)}};return function(R,G,P){if(!R)return B;(D.isString(G)||G instanceof ArrayBuffer)&&(G=F(G)),P||(P={}),P.flipY==B&&(P.flipY=!0),(P.s3||P.r3||P.t3||P.mat)&&(P.matrix=D.createWorldMatrix(P.mat,P.s3,P.r3,P.rotationMode,P.t3));var t,Y,w,g,b=h.Style["wf.loadQuadWireframe"],a=[],Z=[],Q=P.ignoreNormal?B:[],N=P.reverseFlipMtls,r={vs:[],uv:[],ns:Q?[]:B},i={htdefault:r},j=new e(R),W="",H="";for(Q&&P.matrix&&(P.normalMatrix=D.createNormalMatrix(P.matrix));null!=(Y=j.stepNext());)if(Y=Y.trim(),0!==Y.length&&"#"!==Y.charAt(0))if(Y.indexOf("\\")!==Y.length-1){if(W&&(Y=W+Y,W=""),Y.indexOf("#QNAN0")>=0&&(Y=Y.replace(/#QNAN0/gi,"0")),w=E.exec(Y))a.push([parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3])]);else if(w=c.exec(Y))Z.push([parseFloat(w[1]),parseFloat(w[2])]);else if(Q&&(w=o.exec(Y)))P.flipFace?Q.push([parseFloat(-w[1]),parseFloat(-w[2]),parseFloat(-w[3])]):Q.push([parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3])]);else if("f"===Y[0]){var k=Y.split(/\s+/);if(k.length<4)continue;var K,t,u,y=[],d=[],p=[];for(t=1,u=k.length;u>t;t++)K=k[t].split("/"),y.push(parseInt(K[0],10)),K.length>1&&K[1].length>0&&p.push(parseInt(K[1],10)),K.length>2&&K[2].length>0&&d.push(parseInt(K[2],10));for(t=0,u=y.length-2;u>t;t++)v(r,a,Z,Q,P,[y[0],y[t+1],y[t+2]],p.length?[p[0],p[t+1],p[t+2]]:B,d.length?[d[0],d[t+1],d[t+2]]:B);b&&A(r,a,P,y)}else if(P.part&&null!==(w=m.exec(Y)))H=(" "+w[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(Y)){var L=Y.substring(7).trim();L.split(" ").forEach(function(T){var f=P.part?H+"_"+T:T;(r=i[f])||(r=i[f]={name:f,vs:[],uv:[],ns:Q?[]:B,lvs:b?[]:B},P.ignoreMtls&&P.ignoreMtls.indexOf(T)>=0&&delete r.vs,(P.reverseFlip||"*"===N||N&&N.indexOf(T)>=0)&&(r.reverseFlip=!0),n(G,r,P,T))})}}else W+=Y.substring(0,Y.length-1);var q=[];for(var s in i){var z=i[s].vs;if(z&&0!==z.length){var M=i[s].uv;if(M)for(var U=2*z.length/3-M.length;U-->0;)M.push(0)}else q.push(s)}q.forEach(function(I){delete i[I]}),f(i,P.cube,P.center,P);var I=P.shape3d;if(I){var O=[];for(var g in i){var r=i[g];O.rawS3=r.rawS3,r.center&&(O.center=r.center),O.push(r)}V.setShape3dModel(I,O)}return i}}(),F=function(U){var F={};if(U)for(var G,W,g,N,I,P,R=new e(U),L=/\s+/;null!=(W=R.stepNext());)W=W.trim(),0!==W.length&&"#"!==W.charAt(0)&&(g=W.indexOf(" "),N=(g?W.substring(0,g):W).toLowerCase(),I=(g?W.substring(g+1):"").trim(),"newmtl"===N?F[I]=G={name:I}:G&&("ka"===N||"kd"===N||"ks"===N?(P=I.split(L,3),G[N]=[parseFloat(P[0]),parseFloat(P[1]),parseFloat(P[2]),1]):G[N]="ns"===N||"d"===N?parseFloat(I):I));return F},e=function(E){var X=this;if(E instanceof ArrayBuffer){X.isBuffer=!0;var j=0,C=new Uint8Array(E),H=C.length,$=C.length;X.stepNext=function(){for(var U,a,K=j;H>j;)if(U=C[j],a=U>>4,12===a||13==a)j+=2;else if(14===a)j+=3;else if(j++,10===U)return String.fromCharCode.apply(null,C.subarray(K,j));return j>K?String.fromCharCode.apply(null,C.subarray(K,j)):null}}else{X.isBuffer=!1;var k=E.split("\n"),O=0,$=k.length;X.stepNext=function(){return $>O?k[O++]:null}}};e.prototype={},e.prototype.constructor=e,D.addMethod(V,{loadObj:function(T,s,a){a=a||{};var S=!1;/(MSIE |Trident\/|Edge\/)/.test(t.navigator.userAgent)&&(S=!0);var F=function(J){var r,H=a.finishFunc,K=a.shape3d,E=J?p(J[0],J[1],a):null;if(E){if(K)r=V.getShape3dModel(K);else{r=[];for(var b in E){var s=E[b];r.rawS3=s.rawS3,r.push(s)}}H&&H(E,r,r.rawS3)}else H&&H(null)};if(S){a.responseType="arraybuffer";var g=function(L){V.xhrLoad(T,function(W){F([W,L])},a)};s?V.xhrLoad(s,function(T){g(T)},a):g()}else V.xhrLoad(s?[T,s]:[T],F,a)},parseObj:function(c,H,n){return p(c,H,n)}});var g=h.ByteBuffer=function(O,B,Z){if("undefined"==typeof O&&(O=g.DEFAULT_CAPACITY),"undefined"==typeof B&&(B=g.DEFAULT_ENDIAN),"undefined"==typeof Z&&(Z=g.DEFAULT_NOASSERT),!Z){if(O=0|O,0>O)throw RangeError("Illegal capacity");B=!!B,Z=!!Z}this.buffer=0===O?T:new ArrayBuffer(O),this.view=0===O?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=O,this.littleEndian=B,this.noAssert=Z,this.bufferId=0},T=new ArrayBuffer(0);r.defineProperties(g.prototype,{offset:{get:function(){return this._offset},set:function(x){this._offset=x,x&&x>=this.limit&&this.trySwitchNextBuffer()}}}),g.LITTLE_ENDIAN=!0,g.BIG_ENDIAN=!1,g.DEFAULT_CAPACITY=16,g.DEFAULT_ENDIAN=g.BIG_ENDIAN,g.DEFAULT_NOASSERT=!1,g.METRICS_BYTES="b";var A=String.fromCharCode,y=g.prototype;y.trySwitchNextBuffer=function(){var u=this.buffers[++this.bufferId];u&&(this.buffer=u,this.limit=u.byteLength,this.offset=0,this.view=u.byteLength>0?new Uint8Array(u):null)},y.readUint8=function(f){var W="undefined"==typeof f;if(W&&(f=this.offset),!this.noAssert){if("number"!=typeof f||0!==f%1)throw TypeError("Illegal offset: "+f+" (not an integer)");if(f>>>=0,0>f||f+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+f+" (+"+1+") <= "+this.buffer.byteLength)}var k=this.view[f];return W&&(this.offset+=1),k},y.readUint16=function(r){var G="undefined"==typeof r;if(G&&(r=this.offset),!this.noAssert){if("number"!=typeof r||0!==r%1)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+2+") <= "+this.buffer.byteLength)}var v=0;return this.littleEndian?(v=this.view[r],v|=this.view[r+1]<<8):(v=this.view[r]<<8,v|=this.view[r+1]),G&&(this.offset+=2),v},y.readUint24=function(H){var I="undefined"==typeof H;if(I&&(H=this.offset),!this.noAssert){if("number"!=typeof H||0!==H%1)throw TypeError("Illegal offset: "+H+" (not an integer)");if(H>>>=0,0>H||H+3>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+H+" (+"+4+") <= "+this.buffer.byteLength)}var Q=0;return this.littleEndian?(Q=this.view[H+2]<<16,Q|=this.view[H+1]<<8,Q|=this.view[H]):(Q=this.view[H+1]<<8,Q|=this.view[H+2],Q+=this.view[H]<<16>>>0),Q|=0,I&&(this.offset+=3),Q},y.readUint32=function(d){var q="undefined"==typeof d;if(q&&(d=this.offset),!this.noAssert){if("number"!=typeof d||0!==d%1)throw TypeError("Illegal offset: "+d+" (not an integer)");if(d>>>=0,0>d||d+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+d+" (+"+4+") <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[d+2]<<16,h|=this.view[d+1]<<8,h|=this.view[d],h+=this.view[d+3]<<24>>>0):(h=this.view[d+1]<<16,h|=this.view[d+2]<<8,h|=this.view[d+3],h+=this.view[d]<<24>>>0),q&&(this.offset+=4),h},y.readFloat32=function(n){var L="undefined"==typeof n;if(L&&(n=this.offset),!this.noAssert){if("number"!=typeof n||0!==n%1)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+"+4+") <= "+this.buffer.byteLength)}var D=I(this.view,n,this.littleEndian,23,4);return L&&(this.offset+=4),D};var f=function(){var k={};return k.MAX_CODEPOINT=1114111,k.decodeUTF8=function(N,d){for(var C,U,V,c,m=function(m){m=m.slice(0,m.indexOf(null));var V=Error(m.toString());throw V.name="TruncatedError",V.bytes=m,V};null!==(C=N());)if(0===(128&C))d(C);else if(192===(224&C))null===(U=N())&&m([C,U]),d((31&C)<<6|63&U);else if(224===(240&C))(null===(U=N())||null===(V=N()))&&m([C,U,V]),d((15&C)<<12|(63&U)<<6|63&V);else{if(240!==(248&C))throw RangeError("Illegal starting byte: "+C);(null===(U=N())||null===(V=N())||null===(c=N()))&&m([C,U,V,c]),d((7&C)<<18|(63&U)<<12|(63&V)<<6|63&c)}},k.UTF16toUTF8=function(o,v){for(var G,u=null;;){if(null===(G=null!==u?u:o()))break;G>=55296&&57343>=G&&null!==(u=o())&&u>=56320&&57343>=u?(v(1024*(G-55296)+u-56320+65536),u=null):v(G)}null!==u&&v(u)},k.UTF8toUTF16=function(N,r){var v=null;for("number"==typeof N&&(v=N,N=function(){return null});null!==v||null!==(v=N());)65535>=v?r(v):(v-=65536,r((v>>10)+55296),r(v%1024+56320)),v=null},k.decodeUTF8toUTF16=function(H,Y){k.decodeUTF8(H,function(C){k.UTF8toUTF16(C,Y)})},k.calculateCodePoint=function(G){return 128>G?1:2048>G?2:65536>G?3:4},k.calculateUTF8=function(O){for(var W,Q=0;null!==(W=O());)Q+=128>W?1:2048>W?2:65536>W?3:4;return Q},k.calculateUTF16asUTF8=function(X){var c=0,N=0;return k.UTF16toUTF8(X,function(G){++c,N+=128>G?1:2048>G?2:65536>G?3:4}),[c,N]},k}();y.readString=function(v,K,F){"number"==typeof K&&(F=K,K=Z);var x="undefined"==typeof F;if(x&&(F=this.offset),"undefined"==typeof K&&(K=g.METRICS_CHARS),!this.noAssert){if("number"!=typeof v||0!==v%1)throw TypeError("Illegal length: "+v+" (not an integer)");if(v|=0,"number"!=typeof F||0!==F%1)throw TypeError("Illegal offset: "+F+" (not an integer)");if(F>>>=0,0>F||F+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+F+" (+"+0+") <= "+this.buffer.byteLength)}var q,b=0,V=F;if(K===g.METRICS_CHARS){if(q=C(),f.decodeUTF8(function(){return v>b&&F<this.limit?this.view[F++]:null}.bind(this),function(J){++b,f.UTF8toUTF16(J,q)}),b!==v)throw RangeError("Illegal range: Truncated data, "+b+" == "+v);return x?(this.offset=F,q()):{string:q(),length:F-V}}if(K===g.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof F||0!==F%1)throw TypeError("Illegal offset: "+F+" (not an integer)");if(F>>>=0,0>F||F+v>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+F+" (+"+v+") <= "+this.buffer.byteLength)}var D=F+v;if(f.decodeUTF8toUTF16(function(){return D>F?this.view[F++]:null}.bind(this),q=C(),this.noAssert),F!==D)throw RangeError("Illegal range: Truncated data, "+F+" == "+D);return x?(this.offset=F,q()):{string:q(),length:F-V}}throw TypeError("Unsupported metrics: "+K)};var j=function(Y){if(Y.length){for(var X=0;X<Y.length;X++)if(!Y[X])return;var D=Y[0],q=new g(0);q.buffer=D,q.limit=D.byteLength,q.view=D.byteLength>0?new Uint8Array(D):null,q.buffers=Y;var C=[],N=q.readUint8(10);return S(C,q),k(C,q),w(C,q,N),C}},S=function(j,J){J.offset+=19},k=function(Z,C){var Y=C.readUint8();1&Y&&(Z.center=o(C)),2&Y&&(Z.rawS3=o(C))},a=function(X){return[X.readFloat32(),X.readFloat32()]},o=function(f){return[f.readFloat32(),f.readFloat32(),f.readFloat32()]},x=function(X){var e=X.readUint32();return X.readString(e,g.METRICS_BYTES)},w=function(P,M,t){for(var c=((t||0)<<8)+M.readUint8(),p=0;c>p;p++)P.push(R(M))},R=function(j){var z={},v=j.readUint32(),D=0,t=v&1<<D++,U=v&1<<D++,R=v&1<<D++,B=v&1<<D++,H=v&1<<D++,y=v&1<<D++,C=v&1<<D++,n=v&1<<D++,f=v&1<<D++,h=v&1<<D++,d=v&1<<D++,K=v&1<<D++;return(t||U)&&_(z,j,3,"vs","lvs"),R&&_(z,j,2,"uv"),B&&_(z,j,3,"ns"),H&&(z.name=x(j)),y&&(z.color=o(j)),C&&(z.transparent=!!j.readUint8()),n&&(z.opacity=j.readFloat32()),f&&(z.uvoffset=a(j)),h&&(z.uvScale=o(j)),d&&(z.image=x(j)),K&&(z.reverseFlip=!!j.readUint8()),z},X=16383,U=function(I){var S=I.readUint16(),O=16384&S,u=32768&S,w=(S&X)/X,z=0;return u&&(z=I.readUint16()),(O?1:-1)*(z+w)},m=function(T){var H=T.readUint32(),W=H&1<<30,l=H&1<<29,M=H&1<<28,p=16383,j=(16383&H>>14)/p,c=(16383&H)/p,$=Math.sqrt(1-j*j-c*c)||0;return[j*(W?1:-1),c*(l?1:-1),$*(M?1:-1)]},_=function(i,w,_,S,c){var n=w.readUint32();w.readUint8();var M,x,u,P=w.readUint32(),y=w.readUint32(),s=[];if("uv"===S)for(M=0;n>M;M++)x=U(w),u=U(w),s.push([x,u]);else if("ns"===S)for(M=0;n>M;M++)s.push(m(w));else for(var M=0;n>M;M++)s.push(o(w));var Z;Z=256>n?"readUint8":65536>n?"readUint16":16777216>n?"readUint24":"readUint32";var K,D,z;if(P)for(K=i[S]=[],M=0;P>M;M++)D=w[Z](),z=s[D],"uv"===S?K.push(z[0],z[1]):K.push(z[0],z[1],z[2]);if(y)for(K=i[c]=[],M=0;y>M;M++)D=w[Z](),z=s[D],K.push(z[0],z[1],z[2])};V.getInternal().addMethod(V,{loadBin:function(g,J){J=J||{};var C=function(T){var s,I=J.finishFunc,f=J.shape3d,C=j(T);if(C){if(f)s=V.getShape3dModel(f);else{s=[];for(var u in C){var K=C[u];s.rawS3=K.rawS3,s.push(K)}}I&&I(C,s,s.rawS3)}else I&&I(null)},d=function(Q){var Y=J.finishFunc;if(!Q)return Y&&Y(null),void 0;if(Q.byteLength<50){var B=new Uint8Array(Q),d=B[9];if(d>1){for(var f=[],L=g.substr(0,g.length-4),y=1;d>y;y++)f.push(L+y+".bin");return V.xhrLoad(f,function(F){F.splice(0,0,Q),C(F)},J),void 0}}C([Q])};J.responseType="arraybuffer",V.xhrLoad(g,function(k){d(k)},J)},parseBin:function(I){return j([I])}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);